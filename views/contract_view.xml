<?xml version="1.0"?>
<odoo>

  <record id="contract_template_form_view" model="ir.ui.view">
    <field name="name">contract.template form view (in product_rental)</field>
    <field name="model">contract.template</field>
    <field name="inherit_id" ref="contract.contract_template_form_view" />
    <field name="arch" type="xml">

      <xpath expr="//group[@name='group_main_left']" position="inside">
        <field name="payment_mode_id" />
      </xpath>

      <xpath expr="//group[@name='group_invoice_lines']//tree" position="inside">
        <field name="commitment_duration" />
      </xpath>

      <xpath expr="//group[@name='group_legend']" position="inside">
        <p> <strong>##PRODUCT##</strong> (in the description): mark the rental product template line; substituted by the actual product name</p>
        <p> <strong>##ACCESSORY##</strong> (in the description): mark the rental accessories template line; substituted by the actual accessory name</p>
      </xpath>

    </field>
  </record>

  <record id="contract_template_line_form_view" model="ir.ui.view">
    <field name="name">contract.template.line form view (in product_rental)</field>
    <field name="model">contract.template.line</field>
    <field name="inherit_id" ref="contract.contract_template_line_form_view"/>
    <field name="arch" type="xml">
      <xpath expr="//group[@name='recurrence_info']" position="after">
        <group name="commitment">
          <field name="commitment_duration" />
        </group>
      </xpath>
    </field>
  </record>

  <record id="contract_contract_form_view" model="ir.ui.view">
    <field name="name">contract.contract form view (in product_rental)</field>
    <field name="model">contract.contract</field>
    <field name="inherit_id" ref="contract.contract_contract_form_view" />
    <field name="arch" type="xml">

      <xpath
          expr="//field[@name='contract_line_ids']//tree//field[@name='date_end']"
          position="after">
        <field name="commitment_duration" />
        <field name="commitment_end_date" readonly="1"/>
      </xpath>

    </field>
  </record>

</odoo>
